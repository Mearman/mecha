(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{1505:(e,l,t)=>{Promise.resolve().then(t.bind(t,3897))},3897:(e,l,t)=>{"use strict";t.d(l,{OverviewComponent:()=>E});var n=t(7437),i=t(6648),a=t(7138),s=t(2265);let r={TITLE:"title",DATE:"date"},o={ASC:"asc",DESC:"desc"},d={COLLAPSE:"collapse",EXPAND:"expand"},c="No Category",u="No Series",p="No Title",x={position:"sticky",top:"0",width:"100%",zIndex:1e3,padding:"16px",display:"flex",flexDirection:"column",gap:"16px",background:"var(--color-background)"},h={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(var(--item-size), 1fr))",gap:"16px"},f={border:"1px solid #ccc",padding:"8px",borderRadius:"8px",textAlign:"center",transition:"transform 0.3s ease"},g={alignItems:"center",padding:"8px 16px",borderRadius:"8px",backgroundColor:"#000",color:"#fff",border:"1px solid #fff",cursor:"pointer",transition:"background-color 0.3s ease, color 0.3s ease, border-color 1s ease",height:"100%",width:"100%",display:"flex",justifyContent:"center",textAlign:"center"},m={display:"grid",gridTemplateColumns:"1fr",gap:"8px",overflow:"visible"},v={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"8px"},y={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"8px"},b={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"8px"},j={backgroundColor:"#fff",color:"#000",border:"1px solid #000"},C=(0,s.createContext)(null),A=e=>{let{title:l,children:t,isNested:i=!1,onEnableAll:a,onDisableAll:r,isAllEnabled:o,isAllDisabled:c}=e,[u,p]=(0,s.useState)(!1),[x,h]=(0,s.useState)(null),f=(0,s.useContext)(C),v=(0,s.useRef)(0);(0,s.useEffect)(()=>{f&&f.timestamp!==v.current&&(v.current=f.timestamp,p(f.action===d.EXPAND),h(f))},[f]);let y={background:"none",border:"none",cursor:"pointer",fontSize:"inherit",color:"inherit",padding:"0 4px"};return(0,n.jsx)(C.Provider,{value:x,children:(0,n.jsxs)("fieldset",{style:{marginBottom:"16px",paddingLeft:i?"16px":"0"},children:[(0,n.jsxs)("legend",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontWeight:i?"normal":"bold"},children:[(0,n.jsxs)("span",{onClick:()=>p(e=>!e),style:{marginRight:"8px"},children:[l," ",u?"[-]":"[+]"]}),(0,n.jsx)("button",{onClick:()=>{let e=Date.now();p(!0),h({action:"expand",timestamp:e})},style:y,title:"Expand All",children:"[+ All]"}),(0,n.jsx)("button",{onClick:()=>{let e=d.COLLAPSE,l=Date.now();p(!1),h({action:e,timestamp:l})},style:y,title:"Collapse All",children:"[- All]"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[a&&(0,n.jsx)("button",{onClick:a,style:{...g,...o?j:{}},children:"Enable All"}),r&&(0,n.jsx)("button",{onClick:r,style:{...g,...c?j:{}},children:"Disable All"})]}),u&&(0,n.jsx)("div",{style:m,children:t})]})})},S=e=>{let{data:l,totalItems:t,filteredItems:i,selectedCategories:a,selectedSeries:d,selectedTitles:h,onSortTypeChange:f,onSortDirectionChange:m,onSearchTextChange:C,onCategoryFilterChange:S,onSeriesFilterChange:k,onTitleFilterChange:E,onItemSizeChange:D}=e,[T,w]=(0,s.useState)(r.DATE),[I,N]=(0,s.useState)(o.DESC),[M,L]=(0,s.useState)(""),[O,z]=(0,s.useState)(256),P=(0,s.useMemo)(()=>(function(e){let l={};return e.forEach(e=>{let t=l;e.forEach(e=>{t[e]=t[e]||{},t=t[e]})}),l})(l.flatMap(e=>{var l;return null!==(l=e.data.en.categories)&&void 0!==l?l:[]})),[l]),_=(0,s.useMemo)(()=>(function e(l){let t=[];return Object.entries(l).forEach(l=>{let[n,i]=l;t.push(n),t=t.concat(e(i))}),t})(P).concat(c),[P]),F=(0,s.useMemo)(()=>Array.from(new Set(l.flatMap(e=>{var l,t;return null!==(t=null===(l=e.data.en.series)||void 0===l?void 0:l.map(e=>e.title))&&void 0!==t?t:[]}))).concat(u),[l]),R=(0,s.useMemo)(()=>Array.from(new Set(l.flatMap(e=>{var l,t;return null!==(t=null===(l=e.data.en.titles)||void 0===l?void 0:l.map(e=>e.title))&&void 0!==t?t:[]}))).concat(p),[l]),B=_.every(e=>a.includes(e)),X=0===a.length,q=F.every(e=>d.includes(e)),W=0===d.length,G=R.every(e=>h.includes(e)),H=0===h.length,J=(0,s.useCallback)(e=>{S(e)},[S]),K=(0,s.useCallback)(e=>{k(e)},[k]),Q=(0,s.useCallback)(e=>{E(e)},[E]),U=(0,s.useCallback)((e,l,t)=>Object.entries(e).map(e=>{let[i,a]=e,s=Object.keys(a).length>0,r=l.includes(i),o={...g,...r?j:void 0};return s?(0,n.jsxs)(A,{title:i,isNested:!0,children:[(0,n.jsx)("div",{style:{marginBottom:"8px"},children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:r,onChange:()=>t(r?l.filter(e=>e!==i):[...l,i]),style:{display:"none"}}),(0,n.jsx)("span",{style:o,children:i})]})}),(0,n.jsx)("div",{style:b,children:U(a,l,t)})]},i):(0,n.jsx)("div",{style:b,children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:r,onChange:()=>t(r?l.filter(e=>e!==i):[...l,i]),style:{display:"none"}}),(0,n.jsx)("span",{style:o,children:i})]})},i)}),[]);return(0,n.jsxs)("div",{style:x,id:"control-container",children:[(0,n.jsxs)("label",{children:["Sort by:",(0,n.jsxs)("select",{value:T,onChange:e=>{let l=e.target.value;w(l),f(l)},children:[(0,n.jsx)("option",{value:r.TITLE,children:"Title"}),(0,n.jsx)("option",{value:r.DATE,children:"Date"})]})]}),(0,n.jsx)("button",{onClick:()=>{let e=function(e,l){let t=(l.indexOf(e)+1)%l.length;return l[t]}(I,Object.values(o));N(e),m(e)},children:I===o.ASC?"Ascending":"Descending"}),(0,n.jsxs)("label",{children:["Item Size:",(0,n.jsx)("input",{type:"number",min:32,max:1024,step:8,value:O,onChange:e=>{let l=parseInt(e.target.value,10);z(l),!isNaN(l)&&l>=32&&l<=1024&&D&&D(l)}})]}),(0,n.jsxs)("label",{children:["Search:",(0,n.jsx)("input",{type:"text",value:M,onChange:e=>{let l=e.target.value;L(l),C(l)}})]}),(0,n.jsxs)("div",{children:["Items: ",i,"/",t]}),(0,n.jsxs)(A,{title:"Filters",onEnableAll:()=>{J(_),K(F),Q(R)},onDisableAll:()=>{J([]),K([]),Q([])},isAllEnabled:B&&q&&G,isAllDisabled:X&&W&&H,children:[(0,n.jsxs)(A,{title:"Categories",onEnableAll:()=>J(_),onDisableAll:()=>J([]),isAllEnabled:B,isAllDisabled:X,children:[U(P,a,J),(0,n.jsx)("div",{style:b,children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:a.includes(c),onChange:()=>{J(a.includes(c)?a.filter(e=>e!==c):[...a,c])},style:{display:"none"}}),(0,n.jsx)("span",{style:{...g,backgroundColor:a.includes(c)?"#fff":"#000",color:a.includes(c)?"#000":"#fff"},children:"No Category"})]})})]}),(0,n.jsx)(A,{title:"Titles",onEnableAll:()=>Q(R),onDisableAll:()=>Q([]),isAllEnabled:G,isAllDisabled:H,children:(0,n.jsx)("div",{style:v,children:R.map(e=>{let l=h.includes(e),t={...g,backgroundColor:l?"#fff":"#000",color:l?"#000":"#fff",border:l?"1px solid #000":"1px solid #fff"};return(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:l,onChange:()=>{Q(l?h.filter(l=>l!==e):[...h,e])},style:{display:"none"}}),(0,n.jsx)("span",{style:t,children:e})]},e)})})}),(0,n.jsx)(A,{title:"Series",onEnableAll:()=>K(F),onDisableAll:()=>K([]),isAllEnabled:q,isAllDisabled:W,children:(0,n.jsx)("div",{style:y,children:F.map(e=>{let l=d.includes(e),t={...g,backgroundColor:l?"#fff":"#000",color:l?"#000":"#fff",border:l?"1px solid #000":"1px solid #fff"};return(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:l,onChange:()=>{K(l?d.filter(l=>l!==e):[...d,e])},style:{display:"none"}}),(0,n.jsx)("span",{style:t,children:e})]},e)})})})]})]})},k=e=>{let{data:l}=e,[t,d]=(0,s.useState)(r.DATE),[x,g]=(0,s.useState)(o.DESC),[m,v]=(0,s.useState)(""),[y,b]=(0,s.useState)(()=>Array.from(new Set([...l.flatMap(e=>{var l;return null!==(l=e.data.en.categories)&&void 0!==l?l:[]}).flat(),c]))),[j,C]=(0,s.useState)(()=>Array.from(new Set([...l.flatMap(e=>{var l,t;return null!==(t=null===(l=e.data.en.series)||void 0===l?void 0:l.map(e=>e.title))&&void 0!==t?t:[]}),u]))),[A,k]=(0,s.useState)(()=>Array.from(new Set([...l.flatMap(e=>{var l,t;return null!==(t=null===(l=e.data.en.titles)||void 0===l?void 0:l.map(e=>e.title))&&void 0!==t?t:[]}),p]))),E=(0,s.useMemo)(()=>(function(e,l,t){return[...e].sort((e,n)=>{let i=0;if(l===r.TITLE)i=e.data.en.title.localeCompare(n.data.en.title);else if(l===r.DATE){let l=new Date(e.data.en.releaseDate),t=new Date(n.data.en.releaseDate);i=l.getTime()-t.getTime()}return t===o.ASC?i:-i})})(function(e,l,t,n,i){return e.filter(e=>{var a,s,r,o;let d=(null===(a=e.data.en.title)||void 0===a?void 0:a.toLowerCase())||"",x=l.toLowerCase(),h=(null===(s=e.data.en.categories)||void 0===s?void 0:s.flat())||[],f=(null===(r=e.data.en.series)||void 0===r?void 0:r.map(e=>e.title))||[],g=(null===(o=e.data.en.titles)||void 0===o?void 0:o.map(e=>e.title))||[],m=d.includes(x),v=t.includes(c)&&0===h.length||h.some(e=>t.includes(e)),y=n.includes(u)&&0===f.length||f.some(e=>n.includes(e)),b=i.includes(p)&&0===g.length||g.some(e=>i.includes(e));return m&&v&&y&&b})}(l,m,y,j,A),t,x),[l,m,y,j,A,t,x]),[D,T]=(0,s.useState)(150);return(0,n.jsxs)("div",{children:[(0,n.jsx)(S,{data:l,totalItems:l.length,filteredItems:E.length,selectedCategories:y,selectedSeries:j,selectedTitles:A,onSortTypeChange:d,onSortDirectionChange:g,onSearchTextChange:v,onCategoryFilterChange:b,onSeriesFilterChange:C,onTitleFilterChange:k,onItemSizeChange:T}),(0,n.jsx)("div",{style:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{marginTop:"".concat(e,"px"),height:"calc(100vh - ".concat(e,"px)"),overflow:"auto",padding:"16px"}}(),children:(0,n.jsx)("div",{style:{...h,"--item-size":"".concat(D,"px")},children:E.map(e=>{var l;return(0,n.jsx)("div",{style:f,children:(0,n.jsx)(a.default,{href:"/product/".concat(e.id),children:(0,n.jsx)(i.default,{src:null===(l=e.data.en.images)||void 0===l?void 0:l[0],alt:e.data.en.title,width:D,height:D,loading:"lazy",quality:50,style:{display:"block"},placeholder:"empty"})})},e.id)})})})]})},E=e=>{let{data:l}=e;return(0,n.jsx)(k,{data:l})}}},e=>{var l=l=>e(e.s=l);e.O(0,[173,974,130,215,744],()=>l(1505)),_N_E=e.O()}]);