(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{1505:(e,l,t)=>{Promise.resolve().then(t.bind(t,3897))},3897:(e,l,t)=>{"use strict";t.d(l,{OverviewComponent:()=>T});var n=t(7437),i=t(6648),a=t(7138),s=t(2265);let r={TITLE:"title",DATE:"date"},o={ASC:"asc",DESC:"desc"},d={COLLAPSE:"collapse",EXPAND:"expand"},c="No Category",u="No Series",p="No Title",x={position:"sticky",top:"0",width:"100%",zIndex:1e3,padding:"16px",display:"flex",flexDirection:"column",gap:"16px",background:"var(--color-background)"},h={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(var(--item-size), 1fr))",gap:"16px"},g={border:"1px solid #ccc",padding:"8px",borderRadius:"8px",textAlign:"center",transition:"transform 0.3s ease"},f={alignItems:"center",padding:"8px 16px",borderRadius:"8px",backgroundColor:"#000",color:"#fff",border:"1px solid #fff",cursor:"pointer",transition:"background-color 0.3s ease, color 0.3s ease, border-color 1s ease",height:"100%",width:"100%",display:"flex",justifyContent:"center",textAlign:"center"},v={display:"grid",gridTemplateColumns:"1fr",gap:"8px",overflow:"visible"},b={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"8px"},m={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"8px"},C={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"8px"},j={backgroundColor:"#fff",color:"#000",border:"1px solid #000"},y=(0,s.createContext)(null),S={background:"none",border:"none",cursor:"pointer",fontSize:"inherit",color:"inherit",padding:"0 4px",transition:"color 0.3s ease"},A=s.memo(e=>{let{title:l,children:t,isNested:i=!1,onEnableAll:a,onDisableAll:r,isAllEnabled:o,isAllDisabled:c}=e,[u,p]=(0,s.useState)(!1),[x,h]=(0,s.useState)(null),[g,f]=(0,s.useState)(!1),b=(0,s.useContext)(y),m=(0,s.useRef)(0);(0,s.useEffect)(()=>{if(b&&b.timestamp!==m.current){m.current=b.timestamp;let e=b.action===d.EXPAND;p(e),h(b),f(e)}},[b]);let C=o?"all":c?"none":"some",j=(0,s.useCallback)(()=>{"all"===C?r&&r():a&&a()},[C,a,r]);return(0,n.jsx)(y.Provider,{value:x,children:(0,n.jsxs)("fieldset",{style:{marginBottom:"16px",paddingLeft:i?"16px":"0"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,n.jsxs)("legend",{onClick:()=>p(e=>!e),style:{cursor:"pointer",fontWeight:i?"normal":"bold",marginRight:"8px"},children:[l," ",u?"[^]":"[v]"]}),(0,n.jsx)("button",{onClick:()=>{let e=g?d.COLLAPSE:d.EXPAND,l=Date.now(),t=!g;f(t),p(t),h({action:e,timestamp:l})},style:S,title:g?"Collapse All":"Expand All",children:g?"[^ All]":"[v All]"})]}),(0,n.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,n.jsx)("div",{onClick:j,style:{width:"50px",height:"27px",borderRadius:"15px",border:"1px solid",cursor:"pointer",position:"relative",backgroundColor:"all"===C?"#fff":"none"===C?"#000":"#888",borderColor:"none"===C?"#fff":"#000",transition:"background-color 0.3s ease, border-color 0.3s ease"},title:"all"===C?"All Filters Enabled":"none"===C?"No Filters Enabled":"Some Filters Enabled",children:(0,n.jsx)("div",{style:{width:"21px",height:"21px",borderRadius:"50%",backgroundColor:"none"===C?"#fff":"all"===C?"#000":"#fff",position:"absolute",top:"2px",right:"all"===C?"2px":"some"===C?"14px":"25px",transition:"right 0.3s ease"}})})})]}),u&&(0,n.jsx)("div",{style:v,children:t})]})})}),k=s.memo(e=>{let{label:l,isSelected:t,onChange:i}=e,a={...f,...t?j:void 0},r=(0,s.useCallback)(()=>{i(l,t)},[i,l,t]);return(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:t,onChange:r,style:{display:"none"}}),(0,n.jsx)("span",{style:a,children:l})]})}),E=e=>{let{data:l,totalItems:t,filteredItems:i,selectedCategories:a,selectedSeries:d,selectedTitles:h,onSortTypeChange:g,onSortDirectionChange:f,onSearchTextChange:v,onCategoryFilterChange:j,onSeriesFilterChange:y,onTitleFilterChange:S,onItemSizeChange:E}=e,[D,T]=(0,s.useState)(r.DATE),[w,I]=(0,s.useState)(o.DESC),[N,M]=(0,s.useState)(""),[O,L]=(0,s.useState)(256),F=(0,s.useMemo)(()=>(function(e){let l={};for(let t of e){let e=l;for(let l of t)e[l]||(e[l]={}),e=e[l]}return l})(l.flatMap(e=>{var l;return null!==(l=e.data.en.categories)&&void 0!==l?l:[]})),[l]),z=(0,s.useMemo)(()=>(function e(l){let t=[];for(let[n,i]of Object.entries(l))t.push(n),t=t.concat(e(i));return t})(F).concat(c),[F]),P=(0,s.useMemo)(()=>Array.from(new Set(l.flatMap(e=>{var l,t;return null!==(t=null===(l=e.data.en.series)||void 0===l?void 0:l.map(e=>e.title))&&void 0!==t?t:[]}))).concat(u),[l]),R=(0,s.useMemo)(()=>Array.from(new Set(l.flatMap(e=>{var l,t;return null!==(t=null===(l=e.data.en.titles)||void 0===l?void 0:l.map(e=>e.title))&&void 0!==t?t:[]}))).concat(p),[l]),_=z.every(e=>a.includes(e)),X=0===a.length,B=P.every(e=>d.includes(e)),q=0===d.length,W=R.every(e=>h.includes(e)),G=0===h.length,H=(0,s.useCallback)(e=>{j(e)},[j]),J=(0,s.useCallback)(e=>{y(e)},[y]),K=(0,s.useCallback)(e=>{S(e)},[S]),Q=(0,s.useCallback)((e,l,t)=>{let i=(0,s.useCallback)((e,n)=>{t(n?l.filter(l=>l!==e):[...l,e])},[l,t]);return Object.entries(e).map(e=>{let[a,r]=e,o=Object.keys(r).length>0,d=l.includes(a),c=[a].concat(function e(l){let t=[];for(let[n,i]of Object.entries(l))t.push(n),t=t.concat(e(i));return t}(r)),u=c.every(e=>l.includes(e)),p=c.every(e=>!l.includes(e)),x=(0,s.useCallback)(()=>{t(Array.from(new Set([...l,...c])))},[l,c,t]),h=(0,s.useCallback)(()=>{t(l.filter(e=>!c.includes(e)))},[l,c,t]);return o?(0,n.jsxs)(A,{title:a,isNested:!0,onEnableAll:x,onDisableAll:h,isAllEnabled:u,isAllDisabled:p,children:[(0,n.jsx)("div",{style:{marginBottom:"8px"},children:(0,n.jsx)(k,{label:a,isSelected:d,onChange:i})}),(0,n.jsx)("div",{style:C,children:Q(r,l,t)})]},a):(0,n.jsx)("div",{style:C,children:(0,n.jsx)(k,{label:a,isSelected:d,onChange:i})},a)})},[H]),U=(0,s.useCallback)(()=>{H(z),J(P),K(R)},[H,J,K,z,P,R]),V=(0,s.useCallback)(()=>{H([]),J([]),K([])},[H,J,K]),Y=(0,s.useCallback)((e,l)=>{K(l?h.filter(l=>l!==e):[...h,e])},[h,K]),Z=(0,s.useCallback)((e,l)=>{J(l?d.filter(l=>l!==e):[...d,e])},[d,J]);return(0,n.jsxs)("div",{style:x,id:"control-container",children:[(0,n.jsxs)("label",{children:["Sort by:",(0,n.jsxs)("select",{value:D,onChange:e=>{let l=e.target.value;T(l),g(l)},children:[(0,n.jsx)("option",{value:r.TITLE,children:"Title"}),(0,n.jsx)("option",{value:r.DATE,children:"Date"})]})]}),(0,n.jsx)("button",{onClick:()=>{let e=function(e,l){let t=(l.indexOf(e)+1)%l.length;return l[t]}(w,Object.values(o));I(e),f(e)},children:w===o.ASC?"Ascending":"Descending"}),(0,n.jsxs)("label",{children:["Item Size:"," ",(0,n.jsx)("input",{type:"number",min:32,max:1024,step:8,value:O,onChange:e=>{let l=parseInt(e.target.value,10);L(l),!isNaN(l)&&l>=32&&l<=1024&&E&&E(l)}})]}),(0,n.jsxs)("label",{children:["Search:"," ",(0,n.jsx)("input",{type:"text",value:N,onChange:e=>{let l=e.target.value;M(l),v(l)}})]}),(0,n.jsxs)("div",{children:["Items: ",i,"/",t]}),(0,n.jsxs)(A,{title:"Filters",onEnableAll:U,onDisableAll:V,isAllEnabled:_&&B&&W,isAllDisabled:X&&q&&G,children:[(0,n.jsxs)(A,{title:"Categories",onEnableAll:()=>H(z),onDisableAll:()=>H([]),isAllEnabled:_,isAllDisabled:X,children:[Q(F,a,H),(0,n.jsx)("div",{style:C,children:(0,n.jsx)(k,{label:c,isSelected:a.includes(c),onChange:(e,l)=>{H(l?a.filter(l=>l!==e):[...a,e])}})})]}),(0,n.jsx)(A,{title:"Titles",onEnableAll:()=>K(R),onDisableAll:()=>K([]),isAllEnabled:W,isAllDisabled:G,children:(0,n.jsx)("div",{style:b,children:R.map(e=>(0,n.jsx)(k,{label:e,isSelected:h.includes(e),onChange:Y},e))})}),(0,n.jsx)(A,{title:"Series",onEnableAll:()=>J(P),onDisableAll:()=>J([]),isAllEnabled:B,isAllDisabled:q,children:(0,n.jsx)("div",{style:m,children:P.map(e=>(0,n.jsx)(k,{label:e,isSelected:d.includes(e),onChange:Z},e))})})]})]})},D=e=>{let{data:l}=e,[t,d]=(0,s.useState)(r.DATE),[x,f]=(0,s.useState)(o.DESC),[v,b]=(0,s.useState)(""),m=new Set(l.flatMap(e=>{var l;return null!==(l=e.data.en.categories)&&void 0!==l?l:[]}).flat()),C=new Set(l.flatMap(e=>{var l,t;return null!==(t=null===(l=e.data.en.series)||void 0===l?void 0:l.map(e=>e.title))&&void 0!==t?t:[]})),j=new Set(l.flatMap(e=>{var l,t;return null!==(t=null===(l=e.data.en.titles)||void 0===l?void 0:l.map(e=>e.title))&&void 0!==t?t:[]})),[y,S]=(0,s.useState)([...m,c]),[A,k]=(0,s.useState)([...C,u]),[D,T]=(0,s.useState)([...j,p]),w=(0,s.useMemo)(()=>(function(e,l,t){return[...e].sort((e,n)=>{let i=0;return l===r.TITLE?i=e.data.en.title.localeCompare(n.data.en.title):l===r.DATE&&(i=new Date(e.data.en.releaseDate).getTime()-new Date(n.data.en.releaseDate).getTime()),t===o.ASC?i:-i})})(function(e,l,t,n,i){let a=l.toLowerCase();return e.filter(e=>{var l,s,r,o,d;let x=null!==(d=null===(l=e.data.en.title)||void 0===l?void 0:l.toLowerCase())&&void 0!==d?d:"",h=(null===(s=e.data.en.categories)||void 0===s?void 0:s.flat())||[],g=(null===(r=e.data.en.series)||void 0===r?void 0:r.map(e=>e.title))||[],f=(null===(o=e.data.en.titles)||void 0===o?void 0:o.map(e=>e.title))||[],v=x.includes(a),b=t.includes(c)&&0===h.length||h.some(e=>t.includes(e)),m=n.includes(u)&&0===g.length||g.some(e=>n.includes(e)),C=i.includes(p)&&0===f.length||f.some(e=>i.includes(e));return v&&b&&m&&C})}(l,v,y,A,D),t,x),[l,v,y,A,D,t,x]),[I,N]=(0,s.useState)(256);return(0,n.jsxs)("div",{children:[(0,n.jsx)(E,{data:l,totalItems:l.length,filteredItems:w.length,selectedCategories:y,selectedSeries:A,selectedTitles:D,onSortTypeChange:d,onSortDirectionChange:f,onSearchTextChange:b,onCategoryFilterChange:S,onSeriesFilterChange:k,onTitleFilterChange:T,onItemSizeChange:N}),(0,n.jsx)("div",{style:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{marginTop:"".concat(e,"px"),height:"calc(100vh - ".concat(e,"px)"),overflow:"auto",padding:"16px"}}(),children:(0,n.jsx)("div",{style:{...h,"--item-size":"".concat(I,"px")},children:w.map(e=>{var l;return(0,n.jsx)("div",{style:g,children:(0,n.jsx)(a.default,{href:"/product/".concat(e.id),children:(0,n.jsx)("div",{style:{position:"relative",width:"100%",aspectRatio:"1 / 1"},children:(0,n.jsx)(i.default,{src:null===(l=e.data.en.images)||void 0===l?void 0:l[0],alt:e.data.en.title,fill:!0,style:{objectFit:"cover"},loading:"lazy",quality:50,placeholder:"empty"})})})},e.id)})})})]})},T=e=>{let{data:l}=e;return(0,n.jsx)(D,{data:l})}}},e=>{var l=l=>e(e.s=l);e.O(0,[173,974,130,215,744],()=>l(1505)),_N_E=e.O()}]);